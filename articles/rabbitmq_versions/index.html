<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head>
  <title>
    Ruby amqp gem:
    RabbitMQ versions compatibilityamqp gem 0.8 migration guide
  </title>
  <link href='/assets/stylesheets/bootstrap.css' media='screen' rel='stylesheet' type='text/css' />
  <link href='/assets/stylesheets/sass/styles.css' media='screen' rel='stylesheet' type='text/css' />
  <script src='/assets/javascripts/jquery-1.7.min.js' type='text/javascript'></script>
  <script src='/assets/javascripts/codemirror.js'></script>
  <script src='/assets/javascripts/toc.js'></script>
  <script src='/assets/javascripts/code_highlight.js'></script>
  <link href='/assets/stylesheets/codemirror.css' rel='stylesheet' />
  <script src='/assets/javascripts/mode/ruby.js'></script>
  <link href='/assets/stylesheets/theme/default.css' rel='stylesheet' />
  <script type='text/javascript'>
    //<![CDATA[
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27153041-1']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    //]]>
  </script>
<<<<<<< HEAD
</head><body><div class='navbar navbar-fixed-top'>
  <div class='navbar-inner'>
=======
  <script src='http://use.typekit.com/zls3kso.js' type='text/javascript'></script>
  <script type='text/javascript'>
    //<![CDATA[
      try{Typekit.load();}catch(e){}
    //]]>
  </script>
</head><body><div class='topbar'>
  <div class='topbar-inner'>
>>>>>>> 8d07a3a737ad4f0b99cf8ab4898940178838c806
    <div class='container'>
      <ul class='nav'>
        <li class='active'>
          <a href='/'>
            Home
          </a>
        </li>
        <li>
          <a href='/articles/getting_started/'>
            Getting Started
          </a>
        </li>
        <li>
          <a href='/articles/amqp_9_1_model_explained/'>
            AMQP 0.9.1 Model
          </a>
        </li>
        <li>
          <a href='/articles/connecting_to_broker/'>
            Connecting
          </a>
        </li>
        <li>
          <a href='/articles/working_with_queues/'>
            Queues
          </a>
        </li>
        <li>
          <a href='/articles/working_with_exchanges/'>
            Exchanges
          </a>
        </li>
        <li>
          <a href='/articles/patterns_and_use_cases/'>
            Patterns & Use Cases
          </a>
        </li>
        <li>
          <a href='/articles/error_handling/'>
            Error Handling
          </a>
        </li>
      </ul>
    </div>
  </div>
</div><div class='container'><section><div class='page-header'>
  <h1>RabbitMQ versions compatibilityamqp gem 0.8 migration guide</h1>
</div>
<div class='toc'></div>
<h2>About this guide</h2>
<p>This guide covers compatibility of the <a href="http://github.com/ruby-amqp/amqp">Ruby amqp gem</a> with various versions of <a href="http://rabbitmq.com">RabbitMQ</a> messaging broker.</p>
<h2>Covered versions</h2>
<p>This guide covers <a href="http://github.com/ruby-amqp/amqp">Ruby amqp gem</a> v0.8.0 and later.</p>
<h2>RabbitMQ Version Requirement</h2>
<p>amqp gem before 0.8.0 (0.6.x, 0.7.x) series implemented (most of) <span class="caps">AMQP</span> 0.8 specification. amqp gem 0.8.0 implements <span class="caps">AMQP</span> 0.9.1 and thus <strong>requires RabbitMQ version 2.0 or later</strong>. See {file:docs/RabbitMQVersions.textile RabbitMQ versions} for more information about RabbitMQ versions support and how obtain up-todate packages for your operating system.</p>
<p><span class="note"><br />
amqp gem 0.8.0 and later versions implement <span class="caps">AMQP</span> 0.9.1 and thus <strong>requires RabbitMQ version 2.0 or later</strong><br />
</span></p>
<h2>Using recent versions on Debian and Ubuntu</h2>
<p>Ubuntu (even 10.10) and Debian both <a href="http://packages.ubuntu.com/maverick/rabbitmq-server">ship with an old RabbitMQ version</a>, that only supports <span class="caps">AMQP</span> protocol 0.8. Ruby amqp gem 0.8.0 and later <strong>will not work with RabbitMQ versions before 2.0.0</strong>.</p>
<p>We strongly recommend that you use <a href="http://www.rabbitmq.com/debian.html#apt">RabbitMQ apt repository</a> that has recent versions of RabbitMQ.</p>
<h2>OpsCode Chef &amp; Puppet</h2>
<h3>Chef cookbook for RabbitMQ</h3>
<p>There is a <a href="https://github.com/opscode/cookbooks/tree/master/rabbitmq">Chef cookbook for RabbitMQ</a> that installs recent versions from the rabbitmq.com apt repository. It also has LWPRs (providers) for managing users and vhosts.</p>
<h3>RabbitMQ Puppet module</h3>
<p>There is a <a href="https://github.com/puppetlabs/puppetlabs-rabbitmq">RabbitMQ Puppet module</a> by the Puppet Labs team. It uses .deb packages from Debian testing and unstable repositories. Note that it has two dependencies:</p>
<ul>
	<li><a href="https://github.com/puppetlabs/puppetlabs-stdlib">puppet-stdlib</a></li>
	<li><a href="https://github.com/puppetlabs/puppet-apt">puppet-apt</a></li>
</ul>
<h2><span class="caps">TLS</span> (<span class="caps">SSL</span>) support</h2>
<p>Note that <a href="http://www.rabbitmq.com/ssl.html">before 1.7.0, RabbitMQ did not support <span class="caps">TLS</span></a>. In order to have <span class="caps">TLS</span> support, RabbitMQ 1.7.0 requires</p>
<ul>
	<li>Erlang/<span class="caps">OTP</span> R13B or later</li>
	<li>Erlang <span class="caps">SSL</span> 3.10 or later</li>
</ul>
<p>and recommends using Erlang R141B that ships with Erlang <span class="caps">SSL</span> 4.0.1. Learn more in our <a href="/article/connection_encryption_with_tls/" title="SSL">Using <span class="caps">TLS</span></a> guide.</p>
<h2>Authors</h2>
This guide was written by
<a href='http://twitter.com/michaelklishin'>
  Michael Klishin
</a>
and edited by
<a href='https://twitter.com/celldee'>
  Chris Duncan
</a>
<h2>Tell us what you think!</h2>
<p>
  Please take a moment to tell us what you think about this guide
  <a href='http://twitter.com/rubyamqp'>
    on Twitter
  </a>
  or the
  <a href='http://groups.google.com/group/ruby-amqp.'>
    Ruby AMQP mailing list
  </a>
</p>
<p>
  Let us know what was unclear or what has not been covered. Maybe you do not like the guide style or grammar or discover spelling mistakes. Reader feedback is key to making the documentation better.
</p>
<p>
  If, for some reason, you cannot use the communication channels mentioned above, you can
  <a href='mailto:michaelklishin@me.com?subject=amqp%20gem%20documentation'>
    contact the author of the guides directly
  </a>
</p>
<div id='disqus_thread'></div>
<script type='text/javascript'>
  //<![CDATA[
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'rubyamqpdocs'; // required: replace example with your forum shortname
    
    var disqus_developer = 0; // set to 1 on local machine for testing comments
    var disqus_identifier = 'amqp_rabbitmq_versions';
    var disqus_url = 'http://rdoc.info/github/ruby-amqp/amqp/master/file/docs/RabbitMQVersions.textile';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  //]]>
</script></section><footer class='footer'>
  <p class='pull-right'>
    <a href='#'>Back to top</a>
  </p>
  <p>
    This guide was written by
    <a href='http://twitter.com/michaelklishin'>
      Michael Klishin
    </a>
    and edited by
    <a href='https://twitter.com/celldee'>
      Chris Duncan
    </a>
  </p>
  <p>
    Layout and CSS using
    <a href='http://twitter.github.com/bootstrap'>
      Twitter Bootstrap
    </a>
    tuned by
    <a href='https://twitter.com/ifesdjeen'>
      Alex Petrov
    </a>
  </p>
</footer></div></body></html>
